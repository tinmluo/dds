angular.module("youtube",["ng"]).run(function(){var e=document.createElement("script");e.src="//www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}).service("youtubePlayerApi",["$window","$rootScope","$log",function(e,i,r){var t=i.$new(!0);return e.onYouTubeIframeAPIReady=function(){r.info("Youtube API is ready"),t.ready=!0},t.ready=!1,t.playerId=null,t.player=null,t.videoId=null,t.playerHeight="390",t.playerWidth="640",t.bindVideoPlayer=function(e){r.info("Binding to player "+e),t.playerId=e},t.createPlayer=function(){return r.info("Creating a new Youtube player for DOM id "+this.playerId+" and video "+this.videoId),new YT.Player(this.playerId,{height:this.playerHeight,width:this.playerWidth,videoId:this.videoId})},t.loadPlayer=function(){this.ready&&this.playerId&&this.videoId&&(this.player&&this.player.destroy(),this.player=this.createPlayer())},t}]).directive("youtubePlayer",["youtubePlayerApi",function(e){return{restrict:"A",link:function(i,r){e.bindVideoPlayer(r[0].id)}}}]);